"use strict";var Ee=Object.create;var J=Object.defineProperty;var Me=Object.getOwnPropertyDescriptor;var Ie=Object.getOwnPropertyNames;var Te=Object.getPrototypeOf,Be=Object.prototype.hasOwnProperty;var He=(e,t)=>{for(var o in t)J(e,o,{get:t[o],enumerable:!0})},Se=(e,t,o,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Ie(t))!Be.call(e,i)&&i!==o&&J(e,i,{get:()=>t[i],enumerable:!(s=Me(t,i))||s.enumerable});return e};var ee=(e,t,o)=>(o=e!=null?Ee(Te(e)):{},Se(t||!e||!e.__esModule?J(o,"default",{value:e,enumerable:!0}):o,e)),Ne=e=>Se(J({},"__esModule",{value:!0}),e);var kt={};He(kt,{AiIcon:()=>fe,Chip:()=>re,CloseIcon:()=>D,EditIcon:()=>G,FilterChips:()=>pe,MarkerDebugList:()=>Pt,MinRatingFilterChip:()=>Z,NextIcon:()=>te,PriceRangeFilterChip:()=>ie,RestaurantPriceLevelChip:()=>se,SearchIcon:()=>j,SmartFilter:()=>Le,StarIcon:()=>ye,TransformedQueryChip:()=>ae,createMinRatingFilterLabel:()=>_e,createPriceRangeFilterLabel:()=>Ve,formatRatingValue:()=>ne,renderStars:()=>Ce,useFilterScroll:()=>le,useGoogleMapsAttachment:()=>bt,useIsPortrait:()=>de,useMapFirst:()=>St,useMapFirstCore:()=>dt,useMapFirstProperties:()=>mt,useMapFirstSelectedProperty:()=>gt,useMapLibreAttachment:()=>ht,useMapboxAttachment:()=>xt,usePrimaryType:()=>ft,usePropertiesSearch:()=>vt,useSelectedMarker:()=>yt,useSmartFilterSearch:()=>Ct,useTranslation:()=>I});module.exports=Ne(kt);var g=ee(require("react")),xe=require("@mapfirst.ai/core");var $=require("react");var P=require("react/jsx-runtime"),j=({className:e,style:t})=>(0,P.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,style:{width:"1em",height:"1em",...t},children:[(0,P.jsx)("circle",{cx:"11",cy:"11",r:"8"}),(0,P.jsx)("path",{d:"m21 21-4.35-4.35"})]}),D=({className:e,style:t})=>(0,P.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,style:{width:"1em",height:"1em",...t},children:[(0,P.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,P.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),G=({className:e,style:t})=>(0,P.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,style:{width:"1em",height:"1em",...t},children:[(0,P.jsx)("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),(0,P.jsx)("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),te=({className:e,style:t})=>(0,P.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,style:{width:"1em",height:"1em",...t},children:(0,P.jsx)("polyline",{points:"9 18 15 12 9 6"})}),fe=({className:e,style:t})=>(0,P.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,style:{width:"1em",height:"1em",...t},children:[(0,P.jsx)("path",{d:"M12 2L2 7l10 5 10-5-10-5z"}),(0,P.jsx)("path",{d:"M2 17l10 5 10-5"}),(0,P.jsx)("path",{d:"M2 12l10 5 10-5"})]}),ye=({className:e,style:t,fill:o="none"})=>(0,P.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:o,stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,style:{width:"1em",height:"1em",...t},children:(0,P.jsx)("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})});var ce=ee(require("react"));var ve=ee(require("react"));var V=require("react/jsx-runtime"),De={position:"relative",backgroundColor:"white",color:"black",fontSize:"14px",borderRadius:"9999px",padding:"0 16px",paddingRight:"20px",border:"1px solid #03852e",display:"flex",alignItems:"center",gap:"8px",flexShrink:0,height:"34px"},Ae={position:"absolute",top:"-8px",right:"-8px",padding:"2px",borderRadius:"50%",backgroundColor:"white",border:"1px solid #03852e",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"background-color 0.2s"},ze={width:"17px",height:"17px"},re=({label:e,icon:t,remove:o,style:s})=>{let[i,p]=ve.default.useState(!1);return(0,V.jsxs)("div",{style:{...De,...s},children:[t&&(0,V.jsx)("span",{style:{display:"flex",alignItems:"center"},children:t}),(0,V.jsx)("span",{style:{whiteSpace:"nowrap"},children:e}),(0,V.jsx)("button",{style:{...Ae,backgroundColor:i?"#e5e5e5":"white"},onClick:o,onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),"aria-label":"Remove filter",children:(0,V.jsx)(D,{style:ze})})]})};var be=require("react");var U=require("react"),We={"smartFilter.placeholder":"Search for hotels, restaurants, or attractions...","smartFilter.typingPrompt":"Type to search...","smartFilter.nav.previous":"Previous filters","smartFilter.nav.next":"Next filters","smartFilter.toast.locationRequired":"Please select a location first","smartFilter.clearAll":"Clear all","smartFilter.minRating.suffix":"+","smartFilter.minRating.label":"{{value}}+","smartFilter.minRating.remove":"Remove rating filter","smartFilter.minRating.setTo":"Set rating to {{rating}}","smartFilter.priceRange.label":"Price Range","smartFilter.priceRange.remove":"Remove price filter","smartFilter.priceRange.edit":"Edit price","smartFilter.transformedQuery.remove":"Remove search query","smartFilter.transformedQuery.edit":"Edit search query","smartFilter.restaurantPriceLevel.label":"Price Level","smartFilter.restaurantPriceLevel.remove":"Remove price level filter","smartFilter.restaurantPriceLevel.none":"Any","smartFilter.restaurantPriceLevel.options.cheapEats":"Cheap Eats","smartFilter.restaurantPriceLevel.options.midRange":"Mid Range","smartFilter.restaurantPriceLevel.options.fineDining":"Fine Dining"},Oe=(e,t="USD")=>new Intl.NumberFormat("en-US",{style:"currency",currency:t,minimumFractionDigits:0,maximumFractionDigits:0}).format(e),I=(e,t)=>{let[o,s]=(0,U.useState)("en"),i=(0,U.useCallback)((u,c)=>{let n={...We,...e}[u]||u;return c&&Object.keys(c).forEach(a=>{n=n.replace(new RegExp(`{{${a}}}`,"g"),String(c[a]))}),n},[e]),p=(0,U.useCallback)((u,c)=>t?t(u,c):Oe(u,c),[t]);return{t:i,locale:o,setLocale:s,formatCurrency:p}};var q=require("react/jsx-runtime"),Ce=e=>{let t=[],o=Math.floor(e),s=e%1!==0,i={display:"block",width:"12px",height:"12px",borderRadius:"50%",border:"1px solid #03852e",pointerEvents:"none"},p={...i,backgroundColor:"#03852e"},u={...i,background:"linear-gradient(90deg, #03852e 50%, transparent 50%)"};for(let r=0;r<o;r+=1)t.push((0,q.jsx)("span",{style:p},`full-${r}`));s&&t.push((0,q.jsx)("span",{style:u},"half"));let c=Math.max(0,5-Math.ceil(e));for(let r=0;r<c;r+=1)t.push((0,q.jsx)("span",{style:i},`empty-${r}`));return t},_e=(e,t)=>(0,q.jsxs)("span",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[(0,q.jsx)("span",{style:{display:"flex",gap:"1px",userSelect:"none"},children:Ce(e)})," ",t]}),ne=e=>e.toFixed(1),Ve=(e,t,o,s)=>`${s(e,o)} - ${s(t!=null?t:0,o)}`;var M=require("react/jsx-runtime"),qe={position:"relative",backgroundColor:"white",color:"black",fontSize:"14px",borderRadius:"9999px",padding:"0 16px",paddingRight:"20px",border:"1px solid #03852e",display:"flex",gap:"8px",alignItems:"center",justifyContent:"center",flexShrink:0,height:"34px"},Qe={position:"absolute",top:"-8px",right:"-8px",padding:"2px",borderRadius:"50%",backgroundColor:"white",border:"1px solid #03852e",cursor:"pointer",transition:"background-color 0.2s"},Ke={display:"flex",gap:"1px",userSelect:"none"},he={display:"block",width:"12px",height:"12px",borderRadius:"50%",border:"1px solid #03852e",pointerEvents:"none"},oe={position:"absolute",top:0,height:"100%",cursor:"pointer",backgroundColor:"transparent",border:"none",padding:0},Z=({rating:e,onChange:t,onRemove:o,star:s=!1})=>{let[i,p]=(0,be.useState)(null),[u,c]=(0,be.useState)(!1),{t:r}=I(),n=i!=null?i:e,a=f=>s&&f?f.toString():r("smartFilter.minRating.label",{value:ne(f)}),l=r("smartFilter.minRating.remove"),m=f=>r("smartFilter.minRating.setTo",{rating:ne(f)}),F=f=>{let S=f+1;return n>=S?"full":n>=S-.5?"half":"empty"},v=f=>{p(null),f!==e&&t(f)},k=f=>{var x;let S=f.relatedTarget;(!S||!((x=f.currentTarget.closest("[data-min-rating-chip]"))!=null&&x.contains(S)))&&p(null)};return(0,M.jsxs)("div",{style:qe,"data-min-rating-chip":!0,children:[(0,M.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"4px"},onMouseLeave:()=>p(null),children:[(0,M.jsx)("div",{style:Ke,children:Array.from({length:5}).map((f,S)=>{let x=F(S),h=S+1,w=h-.5;if(s)return(0,M.jsxs)("div",{style:{position:"relative",width:"16px",height:"16px"},children:[(0,M.jsx)(ye,{fill:n>=h?"#03852e":"none",style:{width:"16px",height:"16px",pointerEvents:"none"}}),(0,M.jsx)("button",{type:"button",style:{...oe,left:0,width:"50%",borderRadius:"50% 0 0 50%"},onMouseEnter:()=>p(w),onFocus:()=>p(w),onBlur:k,onClick:()=>v(w),"aria-label":m(w),title:a(w)}),(0,M.jsx)("button",{type:"button",style:{...oe,left:"50%",width:"50%",borderRadius:"0 50% 50% 0"},onMouseEnter:()=>p(h),onFocus:()=>p(h),onBlur:k,onClick:()=>v(h),"aria-label":m(h),title:a(h)})]},S);let N=x==="full"?{...he,backgroundColor:"#03852e"}:he,_={...he,background:"linear-gradient(90deg, #03852e 50%, transparent 50%)"};return(0,M.jsxs)("div",{style:{position:"relative",width:"12px",height:"12px"},children:[(0,M.jsx)("span",{style:x==="half"?_:N}),(0,M.jsx)("button",{type:"button",style:{...oe,left:0,width:"50%",borderRadius:"50% 0 0 50%",outline:"2px solid transparent",outlineOffset:"1px"},onMouseEnter:()=>p(w),onFocus:()=>p(w),onBlur:k,onClick:()=>v(w),"aria-label":m(w),title:a(w)}),(0,M.jsx)("button",{type:"button",style:{...oe,left:"50%",width:"50%",borderRadius:"0 50% 50% 0",outline:"2px solid transparent",outlineOffset:"1px"},onMouseEnter:()=>p(h),onFocus:()=>p(h),onBlur:k,onClick:()=>v(h),"aria-label":m(h),title:a(h)})]},S)})}),(0,M.jsx)("span",{style:{whiteSpace:"nowrap"},children:a(n)})]}),(0,M.jsx)("button",{style:{...Qe,backgroundColor:u?"#e5e5e5":"white"},onClick:o,onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),"aria-label":l,title:l,children:(0,M.jsx)(D,{style:{width:"17px",height:"17px"}})})]})};var Q=require("react");var R=require("react/jsx-runtime"),$e={position:"relative",backgroundColor:"white",color:"black",fontSize:"14px",borderRadius:"9999px",padding:"0 16px",border:"1px solid #03852e",display:"flex",alignItems:"center",gap:"8px",flexShrink:0,height:"34px"},Ye={position:"absolute",top:"-8px",right:"-8px",padding:"2px",borderRadius:"50%",backgroundColor:"white",border:"1px solid #03852e",cursor:"pointer",transition:"background-color 0.2s"},je={outline:"none",fontSize:"16px",backgroundColor:"transparent",borderRadius:"2px",padding:"2px 8px",width:"64px",textAlign:"center",border:"none"},Ge={padding:"4px",borderRadius:"50%",cursor:"pointer",transition:"background-color 0.2s",border:"none",backgroundColor:"transparent",color:"#737373",display:"flex",alignItems:"center",justifyContent:"center"},Pe=({boundary:e,label:t,value:o,placeholder:s,currency:i,isOptional:p=!1,showRemoveButton:u=!1,removeLabel:c,editLabel:r,showAddWhenEmpty:n=!1,onCommit:a,onRemove:l})=>{let[m,F]=(0,Q.useState)(o!==void 0?String(o):""),[v,k]=(0,Q.useState)(!1),[f,S]=(0,Q.useState)(!1),[x,h]=(0,Q.useState)(!1),w=o!==void 0;(0,Q.useEffect)(()=>{F(o!==void 0?String(o):""),k(!1)},[o]);let N=()=>{F(o!==void 0?String(o):"")},_=()=>{if(m.trim()===""){if(p){a(void 0),F("");return}N();return}let y=Number(m);if(!Number.isFinite(y)){N();return}let A=Math.max(0,y);if(A===o){N();return}a(A)};return(0,R.jsxs)("div",{style:$e,children:[(0,R.jsx)("span",{style:{fontSize:"10px",textTransform:"uppercase",fontWeight:600,letterSpacing:"0.05em"},children:t}),v?(0,R.jsx)("input",{value:m,onChange:y=>{let A=y.target.value.replace(/[^\d]/g,"");F(A)},onBlur:()=>{_(),k(!1)},onKeyDown:y=>{if(y.key==="Enter"){y.preventDefault(),y.currentTarget.blur(),k(!1);return}if(y.key==="Escape"){y.preventDefault(),N(),y.currentTarget.blur(),k(!1);return}y.key.length===1&&/[0-9]/.test(y.key)||y.key==="Backspace"||y.key==="Delete"||y.key==="Tab"||y.key==="ArrowLeft"||y.key==="ArrowRight"||y.key==="Home"||y.key==="End"||y.preventDefault()},placeholder:s,inputMode:"numeric",pattern:"[0-9]*","aria-label":t,style:je,autoFocus:!0}):w?(0,R.jsxs)("span",{style:{fontSize:"16px"},children:[i,o]}):n?(0,R.jsx)("button",{type:"button",style:{fontSize:"16px",color:"#737373",cursor:"pointer",border:"none",backgroundColor:"transparent",padding:0},onClick:()=>k(!0),"aria-label":r,children:"+"}):(0,R.jsx)("span",{style:{fontSize:"16px",color:"#737373"},children:"-"}),(!n||n&&v)&&(0,R.jsx)("span",{style:{color:"#737373",fontSize:"12px"},children:i}),!v&&(!n||w)&&(0,R.jsx)("button",{type:"button",style:{...Ge,backgroundColor:f?"#e5e5e5":"transparent"},"aria-label":r,title:r,onClick:()=>k(!0),onMouseEnter:()=>S(!0),onMouseLeave:()=>S(!1),children:(0,R.jsx)(G,{})}),u&&(0,R.jsx)("button",{style:{...Ye,backgroundColor:x?"#e5e5e5":"white"},onClick:l,onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1),"aria-label":c,title:c,children:(0,R.jsx)(D,{style:{width:"17px",height:"17px"}})})]})},ie=({priceRange:e,currency:t,onChange:o,onRemove:s})=>{let{t:i}=I(),p="Min",u="Max",c=i("smartFilter.priceRange.remove"),r=i("smartFilter.priceRange.edit"),n=(a,l)=>{let m={min:e.min,max:e.max};a==="min"?(m.min=l,l!==void 0&&e.max!==void 0&&l>e.max&&(m.max=l)):(m.max=l,l!==void 0&&e.min!==void 0&&l<e.min&&(m.min=l)),(m.min!==e.min||m.max!==e.max)&&o(m)};return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(Pe,{boundary:"min",label:p,value:e.min,currency:t,editLabel:r,showRemoveButton:e.min!==void 0&&e.min!==0,onCommit:a=>n("min",a),onRemove:s}),(0,R.jsx)(Pe,{boundary:"max",label:u,value:e.max,currency:t,isOptional:!0,showRemoveButton:e.max!==void 0,removeLabel:c,editLabel:r,showAddWhenEmpty:!0,onCommit:a=>n("max",a),onRemove:s})]})};var Re=ee(require("react"));var B=require("react/jsx-runtime"),Ue={position:"relative",backgroundColor:"white",color:"black",fontSize:"14px",borderRadius:"9999px",padding:"0 16px",paddingRight:"20px",border:"1px solid #03852e",display:"flex",alignItems:"center",gap:"16px",flexShrink:0,height:"34px"},Ze={position:"absolute",top:"-8px",right:"-8px",padding:"2px",borderRadius:"50%",backgroundColor:"white",border:"1px solid #03852e",cursor:"pointer",transition:"background-color 0.2s"},ke=[{value:"Cheap Eats",key:"cheapEats"},{value:"Mid Range",key:"midRange"},{value:"Fine Dining",key:"fineDining"}],se=({values:e,onChange:t,onRemove:o})=>{let{t:s}=I(),[i,p]=Re.default.useState(!1),u=s("smartFilter.restaurantPriceLevel.label"),c=s("smartFilter.restaurantPriceLevel.remove"),r=s("smartFilter.restaurantPriceLevel.none"),n=a=>{let{value:l,checked:m}=a.target,F=l,v=new Set(e);m?v.add(F):v.delete(F);let k=ke.filter(f=>v.has(f.value)).map(f=>f.value);t(k)};return(0,B.jsxs)("div",{style:Ue,children:[(0,B.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",flexWrap:"wrap"},children:[(0,B.jsx)("span",{style:{fontSize:"10px",textTransform:"uppercase",fontWeight:600,letterSpacing:"0.05em"},children:u}),(0,B.jsxs)("div",{style:{display:"flex",gap:"12px"},children:[ke.map(a=>{let l=s(`smartFilter.restaurantPriceLevel.options.${a.key}`),m=`price-level-${a.key}`;return(0,B.jsxs)("label",{htmlFor:m,style:{display:"flex",alignItems:"center",gap:"4px",fontSize:"12px",cursor:"pointer"},children:[(0,B.jsx)("input",{id:m,type:"checkbox",value:a.value,checked:e.includes(a.value),onChange:n,style:{accentColor:"#03852e",cursor:"pointer"}}),(0,B.jsx)("span",{children:l})]},a.value)}),e.length===0&&(0,B.jsx)("span",{style:{fontSize:"12px",color:"#737373"},children:r})]})]}),(0,B.jsx)("button",{style:{...Ze,backgroundColor:i?"#e5e5e5":"white"},onClick:o,onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),"aria-label":c!=null?c:u,title:c!=null?c:u,children:(0,B.jsx)(D,{style:{width:"17px",height:"17px"}})})]})};var O=require("react");var z=require("react/jsx-runtime"),Xe={position:"relative",backgroundColor:"white",color:"black",fontSize:"14px",borderRadius:"9999px",padding:"0 16px",paddingRight:"20px",border:"1px solid #03852e",display:"flex",alignItems:"center",gap:"8px",flexShrink:0,userSelect:"none",height:"34px"},Je={position:"absolute",top:"-8px",right:"-8px",padding:"2px",borderRadius:"50%",backgroundColor:"white",border:"1px solid #03852e",cursor:"pointer",transition:"background-color 0.2s"},et={backgroundColor:"#ececec",borderRadius:"2px",padding:"2px 8px",outline:"none",fontSize:"16px",minWidth:"8ch",border:"none"},tt={padding:"4px",borderRadius:"50%",cursor:"pointer",transition:"background-color 0.2s",color:"#737373",border:"none",backgroundColor:"transparent",display:"flex",alignItems:"center",justifyContent:"center"},ae=({value:e,onChange:t,onRemove:o})=>{let s=(0,O.useRef)(null),[i,p]=(0,O.useState)(e),[u,c]=(0,O.useState)(!1),[r,n]=(0,O.useState)(!1),[a,l]=(0,O.useState)(!1),{t:m}=I(),F=m("smartFilter.transformedQuery.remove"),v=m("smartFilter.transformedQuery.edit");(0,O.useEffect)(()=>{p(e),c(!1)},[e]);let k=()=>{let x=i.trim();if(!x.length){p(e);return}x!==e&&t(x)};return(0,z.jsxs)("div",{style:Xe,children:[(0,z.jsx)(j,{style:{width:"16px",height:"16px",color:"#03852e"}}),u?(0,z.jsx)("input",{ref:s,value:i,onChange:x=>{p(x.target.value)},onBlur:()=>{k(),c(!1)},onKeyDown:x=>{if(x.key==="Enter"){x.preventDefault(),x.currentTarget.blur();return}if(x.key==="Escape"){x.preventDefault(),p(e),x.currentTarget.blur();return}},"aria-label":v,style:et,autoFocus:!0}):(0,z.jsx)("span",{style:{fontSize:"16px"},children:e}),!u&&(0,z.jsx)("button",{type:"button",style:{...tt,backgroundColor:r?"#e5e5e5":"transparent"},"aria-label":v,title:v,onClick:()=>c(!0),onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),children:(0,z.jsx)(G,{})}),(0,z.jsx)("button",{style:{...Je,backgroundColor:a?"#e5e5e5":"white"},onClick:o,onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),"aria-label":F,title:F,children:(0,z.jsx)(D,{style:{width:"17px",height:"17px"}})})]})};var W=require("react"),le=e=>{let t=(0,W.useRef)(null),[o,s]=(0,W.useState)(!0),[i,p]=(0,W.useState)(!0),u=(0,W.useCallback)(()=>{let r=t.current;if(!r){s(!0),p(!0);return}let{scrollLeft:n,scrollWidth:a,clientWidth:l}=r;s(n<=0),p(n+l>=a-1)},[]);(0,W.useEffect)(()=>{let r=t.current;if(u(),!r)return;let n=()=>u();return r.addEventListener("scroll",n,{passive:!0}),window.addEventListener("resize",u),()=>{r.removeEventListener("scroll",n),window.removeEventListener("resize",u)}},[e,u]);let c=(0,W.useCallback)(r=>{let n=t.current;if(!n)return;let a=n.clientWidth*.7;n.scrollBy({left:r==="next"?a:-a,behavior:"smooth"})},[]);return{scrollerRef:t,atStart:o,atEnd:i,scrollByDir:c}};var C=require("react/jsx-runtime"),rt={position:"relative",width:"100%"},nt={display:"flex",gap:"8px",overflowX:"auto",alignItems:"center",width:"100%",scrollbarWidth:"none",msOverflowStyle:"none"},Fe={pointerEvents:"none",position:"absolute",top:0,bottom:0,width:"40px"},we={position:"absolute",top:"50%",transform:"translateY(-50%)",backgroundColor:"white",color:"#003c30",border:"1px solid #003c30",padding:"4px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",cursor:"pointer"},pe=({filters:e,isPortrait:t,currency:o,minRatingSuffix:s,clearAllLabel:i,previousFiltersLabel:p,nextFiltersLabel:u,formatCurrency:c,onFilterChange:r,onResetFilters:n,onClearAll:a})=>{let{scrollerRef:l,atStart:m,atEnd:F,scrollByDir:v}=le(e.length),{t:k}=I(),[f,S]=ce.default.useState(null),[x,h]=ce.default.useState(!1),[w,N]=ce.default.useState(!1),_={...nt,padding:t?"8px 16px":"8px"};return(0,C.jsxs)("div",{style:rt,children:[(0,C.jsxs)("div",{ref:l,style:{..._,WebkitOverflowScrolling:"touch"},children:[(0,C.jsx)("style",{children:`
            div::-webkit-scrollbar {
              display: none;
            }
          `}),(0,C.jsx)("button",{style:{flexShrink:0,backgroundColor:x?"#03a03e":"#03852e",borderRadius:"50%",padding:"8px",cursor:"pointer",border:"none",display:"flex",alignItems:"center",justifyContent:"center",transition:"background-color 0.2s"},onClick:n,onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1),children:(0,C.jsx)(j,{style:{width:"20px",height:"20px",color:"white"}})}),e.map(d=>{var y,A,X;let K=()=>(0,C.jsx)(re,{label:d.label,icon:d.icon,remove:()=>{r(e.filter(b=>b.id!==d.id))}},d.id);if(d.type==="minRating"){let b=(y=d.numericValue)!=null?y:Number(d.value);return Number.isFinite(b)?(0,C.jsx)(Z,{rating:b,onChange:L=>{let E=e.map(T=>T.id===d.id?{...T,numericValue:L,value:String(L)}:T);r(E)},onRemove:()=>void r(e.filter(L=>L.id!==d.id))},d.id):K()}if(d.type==="starRating"){let b=(A=d.numericValue)!=null?A:Number(d.value);return Number.isFinite(b)?(0,C.jsx)(Z,{star:!0,rating:b,onChange:L=>{let E=e.map(T=>T.id===d.id?{...T,numericValue:L,value:String(L)}:T);r(E)},onRemove:()=>void r(e.filter(L=>L.id!==d.id))},d.id):K()}return d.type==="priceRange"&&d.priceRange?(0,C.jsx)(ie,{priceRange:d.priceRange,currency:o,onChange:b=>{let L=e.map(E=>E.id===d.id?{...E,priceRange:b}:E);r(L)},onRemove:()=>void r(e.filter(b=>b.id!==d.id))},d.id):d.type==="transformed_query"?(0,C.jsx)(ae,{value:d.value,onChange:b=>{let L=e.map(E=>E.id===d.id?{...E,value:b}:E);r(L)},onRemove:()=>void r(e.filter(b=>b.id!==d.id))},d.id):d.type==="selected_restaurant_price_levels"?(0,C.jsx)(se,{values:(X=d.priceLevels)!=null?X:[],onChange:b=>{let L=e.map(E=>E.id===d.id?{...E,priceLevels:b}:E);r(L)},onRemove:()=>void r(e.filter(b=>b.id!==d.id))},d.id):K()}),(0,C.jsx)("button",{style:{flexShrink:0,padding:"4px 16px",borderRadius:"9999px",cursor:"pointer",fontSize:"14px",userSelect:"none",border:"none",backgroundColor:w?"#e5e5e5":"transparent",transition:"background-color 0.2s"},onClick:a,onMouseEnter:()=>N(!0),onMouseLeave:()=>N(!1),children:i})]}),!m&&(0,C.jsx)("div",{"aria-hidden":"true",style:{...Fe,left:0,background:"linear-gradient(to right, white, transparent)"}}),!F&&(0,C.jsx)("div",{"aria-hidden":"true",style:{...Fe,right:0,background:"linear-gradient(to left, white, transparent)"}}),!m&&(0,C.jsx)("button",{type:"button","aria-label":p,style:{...we,left:"4px",transform:"translateY(-50%) rotate(180deg)",backgroundColor:f==="prev"?"#e5e5e5":"white"},onClick:()=>v("prev"),onMouseEnter:()=>S("prev"),onMouseLeave:()=>S(null),children:(0,C.jsx)(te,{style:{width:"20px",height:"20px"}})}),!F&&(0,C.jsx)("button",{type:"button","aria-label":u,style:{...we,right:"4px",backgroundColor:f==="next"?"#e5e5e5":"white"},onClick:()=>v("next"),onMouseEnter:()=>S("next"),onMouseLeave:()=>S(null),children:(0,C.jsx)(te,{style:{width:"20px",height:"20px"}})})]})};var ue=require("react"),de=()=>{let[e,t]=(0,ue.useState)(typeof window!="undefined"?window.innerHeight>window.innerWidth:!1);return(0,ue.useEffect)(()=>{if(typeof window=="undefined")return;let o=()=>{t(window.innerHeight>window.innerWidth)};return window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)},[]),e};var H=require("react/jsx-runtime"),ot={position:"relative",display:"flex",flexDirection:"column",gap:"8px",width:"100%"},it={position:"relative",display:"flex",alignItems:"center",gap:"8px",width:"100%"},st={position:"relative",display:"flex",alignItems:"center",flex:1,backgroundColor:"white",borderRadius:"24px",border:"1px solid #e5e5e5",padding:"12px 16px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},at={width:"20px",height:"20px",color:"#03852e",flexShrink:0},lt={flex:1,border:"none",outline:"none",fontSize:"16px",backgroundColor:"transparent",color:"#000"},ct={position:"absolute",right:"16px",top:"50%",transform:"translateY(-50%)"},pt={width:"20px",height:"20px",border:"2px solid #e5e5e5",borderTop:"2px solid #03852e",borderRadius:"50%",animation:"spin 1s linear infinite"},ut={position:"absolute",left:"48px",top:"50%",transform:"translateY(-50%)",color:"#737373",pointerEvents:"none",fontSize:"16px"},Le=({mapFirst:e,filters:t,value:o,isSearching:s=!1,placeholder:i,onSearch:p,onFilterChange:u,onValueChange:c,showTypingPrompt:r=!0,customTranslations:n,currency:a="USD",style:l,inputStyle:m,containerStyle:F})=>{let[v,k]=(0,$.useState)(""),f=o!==void 0?o:v,S=c||k,x=de(),{t:h,formatCurrency:w}=I(n),N=h("smartFilter.minRating.suffix"),_=i||h("smartFilter.placeholder"),d=h("smartFilter.typingPrompt"),K=h("smartFilter.nav.previous"),y=h("smartFilter.nav.next"),A=h("smartFilter.clearAll"),X=async T=>{T.preventDefault();let me=f.trim();if(!(!me||s))try{await p(me)}catch(ge){console.error("Search error:",ge)}},b=(0,$.useCallback)(async(T,me)=>{if(!s)try{await u(T)}catch(ge){console.error("Filter change error:",ge)}},[s,u]),L=(0,$.useCallback)(()=>{b([])},[b]),E=(0,$.useCallback)(()=>{b([],!0),S("")},[b,S]);return(0,H.jsxs)("div",{style:{...ot,...F},children:[(0,H.jsx)("style",{children:`
          @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
          }
        `}),(0,H.jsx)("form",{onSubmit:X,style:{...it,...l},children:(0,H.jsxs)("div",{style:st,children:[(0,H.jsx)(fe,{style:at}),(0,H.jsx)("input",{type:"text",value:f,onChange:T=>S(T.target.value),placeholder:_,disabled:s,style:{...lt,...m},autoComplete:"off","aria-label":"Smart search"}),r&&f.length===0&&!s&&(0,H.jsx)("span",{style:ut,children:d}),s&&(0,H.jsx)("div",{style:ct,children:(0,H.jsx)("div",{style:pt})})]})}),t.length>0&&(0,H.jsx)(pe,{filters:t,isPortrait:x,currency:a,minRatingSuffix:N,clearAllLabel:A,previousFiltersLabel:K,nextFiltersLabel:y,formatCurrency:w,onFilterChange:b,onResetFilters:L,onClearAll:E})]})};var Y=require("react/jsx-runtime");function dt(e){let t=g.default.useRef(null),[o,s]=g.default.useState(null),i=g.default.useRef(e);return g.default.useEffect(()=>{i.current=e}),g.default.useEffect(()=>{let p=i.current,u={adapter:null,...p,callbacks:{...p.callbacks,onPropertiesChange:r=>{var n,a;s(l=>l?{...l,properties:r}:null),(a=(n=i.current.callbacks)==null?void 0:n.onPropertiesChange)==null||a.call(n,r)},onSelectedPropertyChange:r=>{var n,a;s(l=>l?{...l,selectedPropertyId:r}:null),(a=(n=i.current.callbacks)==null?void 0:n.onSelectedPropertyChange)==null||a.call(n,r)},onPrimaryTypeChange:r=>{var n,a;s(l=>l?{...l,primary:r}:null),(a=(n=i.current.callbacks)==null?void 0:n.onPrimaryTypeChange)==null||a.call(n,r)},onFiltersChange:r=>{var n,a;s(l=>l?{...l,filters:r}:null),(a=(n=i.current.callbacks)==null?void 0:n.onFiltersChange)==null||a.call(n,r)},onBoundsChange:r=>{var n,a;s(l=>l?{...l,bounds:r}:null),(a=(n=i.current.callbacks)==null?void 0:n.onBoundsChange)==null||a.call(n,r)},onCenterChange:(r,n)=>{var a,l;s(m=>m?{...m,center:r,zoom:n}:null),(l=(a=i.current.callbacks)==null?void 0:a.onCenterChange)==null||l.call(a,r,n)},onZoomChange:r=>{var n,a;s(l=>l?{...l,zoom:r}:null),(a=(n=i.current.callbacks)==null?void 0:n.onZoomChange)==null||a.call(n,r)},onActiveLocationChange:r=>{var n,a;s(l=>l?{...l,activeLocation:r}:null),(a=(n=i.current.callbacks)==null?void 0:n.onActiveLocationChange)==null||a.call(n,r)},onLoadingStateChange:r=>{var n,a;s(l=>l?{...l,initialLoading:r}:null),(a=(n=i.current.callbacks)==null?void 0:n.onLoadingStateChange)==null||a.call(n,r)},onSearchingStateChange:r=>{var n,a;s(l=>l?{...l,isSearching:r}:null),(a=(n=i.current.callbacks)==null?void 0:n.onSearchingStateChange)==null||a.call(n,r)}}},c=new xe.MapFirstCore(u);return t.current=c,s(c.getState()),()=>{c.destroy(),t.current=null,s(null)}},[]),{mapFirst:t.current,state:o}}function mt(e){let[t,o]=g.default.useState([]);return g.default.useEffect(()=>{if(!e){o([]);return}o(e.getState().properties)},[e]),t}function gt(e){let[t,o]=g.default.useState(null);return g.default.useEffect(()=>{if(!e){o(null);return}o(e.getState().selectedPropertyId)},[e]),t}function ft(e){let[t,o]=g.default.useState("Accommodation");g.default.useEffect(()=>{if(!e){o("Accommodation");return}o(e.getState().primary)},[e]);let s=g.default.useCallback(i=>{e&&(e.setPrimaryType(i),o(i))},[e]);return[t,s]}function yt(e){let[t,o]=g.default.useState(null);g.default.useEffect(()=>{if(!e){o(null);return}o(e.getState().selectedPropertyId)},[e]);let s=g.default.useCallback(i=>{e&&e.setSelectedMarker(i)},[e]);return[t,s]}function ht({mapFirst:e,map:t,maplibregl:o,onMarkerClick:s}){let i=g.default.useRef(!1);g.default.useEffect(()=>{!e||!t||i.current||(e.attachMap(t,{platform:"maplibre",maplibregl:o,onMarkerClick:s}),i.current=!0)},[e,t,o,s])}function bt({mapFirst:e,map:t,google:o,onMarkerClick:s}){let i=g.default.useRef(!1);g.default.useEffect(()=>{!e||!t||i.current||(e.attachMap(t,{platform:"google",google:o,onMarkerClick:s}),i.current=!0)},[e,t,o,s])}function xt({mapFirst:e,map:t,mapboxgl:o,onMarkerClick:s}){let i=g.default.useRef(!1);g.default.useEffect(()=>{!e||!t||i.current||(e.attachMap(t,{platform:"mapbox",mapboxgl:o,onMarkerClick:s}),i.current=!0)},[e,t,o,s])}function St(e){let t=g.default.useRef(null);return g.default.useEffect(()=>{if(!e)return;let o=new xe.MapFirstCore(e);return t.current=o,()=>{o.destroy(),t.current=null}},[e]),t}function vt(e){let[t,o]=g.default.useState(!1),[s,i]=g.default.useState(null);return{search:g.default.useCallback(async u=>{if(!e){let c=new Error("MapFirst instance not available");throw i(c),c}o(!0),i(null);try{return await e.runPropertiesSearch({...u,onError:r=>{let n=r instanceof Error?r:new Error(String(r));i(n)}})}catch(c){let r=c instanceof Error?c:new Error(String(c));throw i(r),r}finally{o(!1)}},[e]),isLoading:t,error:s}}function Ct(e){let[t,o]=g.default.useState(!1),[s,i]=g.default.useState(null);return{search:g.default.useCallback(async u=>{if(!e){let c=new Error("MapFirst instance not available");throw i(c),c}o(!0),i(null);try{return await e.runSmartFilterSearch({...u,onError:r=>{let n=r instanceof Error?r:new Error(String(r));i(n)}})}catch(c){let r=c instanceof Error?c:new Error(String(c));throw i(r),r}finally{o(!1)}},[e]),isLoading:t,error:s}}function Pt({markers:e}){return(0,Y.jsxs)("div",{style:{fontFamily:"sans-serif",fontSize:14},children:[(0,Y.jsx)("strong",{children:"Markers"}),(0,Y.jsx)("ul",{children:e.map(t=>{var o,s,i,p,u,c;return(0,Y.jsxs)("li",{children:[t.name," \u2014 ",(i=(s=(o=t.location)==null?void 0:o.lat)==null?void 0:s.toFixed(3))!=null?i:"n/a",","," ",(c=(u=(p=t.location)==null?void 0:p.lon)==null?void 0:u.toFixed(3))!=null?c:"n/a"]},String(t.tripadvisor_id))})})]})}0&&(module.exports={AiIcon,Chip,CloseIcon,EditIcon,FilterChips,MarkerDebugList,MinRatingFilterChip,NextIcon,PriceRangeFilterChip,RestaurantPriceLevelChip,SearchIcon,SmartFilter,StarIcon,TransformedQueryChip,createMinRatingFilterLabel,createPriceRangeFilterLabel,formatRatingValue,renderStars,useFilterScroll,useGoogleMapsAttachment,useIsPortrait,useMapFirst,useMapFirstCore,useMapFirstProperties,useMapFirstSelectedProperty,useMapLibreAttachment,useMapboxAttachment,usePrimaryType,usePropertiesSearch,useSelectedMarker,useSmartFilterSearch,useTranslation});
//# sourceMappingURL=index.js.map