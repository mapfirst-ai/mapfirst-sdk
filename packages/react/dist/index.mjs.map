{"version":3,"sources":["../src/index.tsx"],"sourcesContent":["import React from \"react\";\nimport {\n  MapFirstCore,\n  type MapFirstOptions,\n  type Property,\n} from \"@mapfirst/core\";\n\n/**\n * Simple hook that creates the MapFirstCore instance whenever options change.\n * Consumers can call instance.current?.setMarkers(...) or instance.current?.refresh().\n */\nexport function useMapFirst(options: MapFirstOptions | null) {\n  const instanceRef = React.useRef<MapFirstCore | null>(null);\n\n  React.useEffect(() => {\n    if (!options) {\n      return undefined;\n    }\n    const instance = new MapFirstCore(options);\n    instanceRef.current = instance;\n\n    return () => {\n      instanceRef.current = null;\n    };\n  }, [options]);\n\n  return instanceRef;\n}\n\n/**\n * Helper component that simply renders the markers it receives so non-React environments\n * can verify data flows before wiring the SDK into a map.\n */\nexport function MarkerDebugList({ markers }: { markers: Property[] }) {\n  return (\n    <div style={{ fontFamily: \"sans-serif\", fontSize: 14 }}>\n      <strong>Markers</strong>\n      <ul>\n        {markers.map((marker) => (\n          <li key={String(marker.tripadvisor_id)}>\n            {marker.name} â€” {marker.location?.lat?.toFixed(3) ?? \"n/a\"},{\" \"}\n            {marker.location?.lon?.toFixed(3) ?? \"n/a\"}\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n}\n"],"mappings":"AAAA,OAAOA,MAAW,QAClB,OACE,gBAAAC,MAGK,iBA+BD,cAAAC,EAGI,QAAAC,MAHJ,oBAzBC,SAASC,EAAYC,EAAiC,CAC3D,IAAMC,EAAcN,EAAM,OAA4B,IAAI,EAE1D,OAAAA,EAAM,UAAU,IAAM,CACpB,GAAI,CAACK,EACH,OAEF,IAAME,EAAW,IAAIN,EAAaI,CAAO,EACzC,OAAAC,EAAY,QAAUC,EAEf,IAAM,CACXD,EAAY,QAAU,IACxB,CACF,EAAG,CAACD,CAAO,CAAC,EAELC,CACT,CAMO,SAASE,EAAgB,CAAE,QAAAC,CAAQ,EAA4B,CACpE,OACEN,EAAC,OAAI,MAAO,CAAE,WAAY,aAAc,SAAU,EAAG,EACnD,UAAAD,EAAC,UAAO,mBAAO,EACfA,EAAC,MACE,SAAAO,EAAQ,IAAKC,GAAQ,CAtC9B,IAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAuCU,OAAAb,EAAC,MACE,UAAAO,EAAO,KAAK,YAAIG,GAAAD,GAAAD,EAAAD,EAAO,WAAP,YAAAC,EAAiB,MAAjB,YAAAC,EAAsB,QAAQ,KAA9B,KAAAC,EAAoC,MAAM,IAAE,KAC5DG,GAAAD,GAAAD,EAAAJ,EAAO,WAAP,YAAAI,EAAiB,MAAjB,YAAAC,EAAsB,QAAQ,KAA9B,KAAAC,EAAoC,QAF9B,OAAON,EAAO,cAAc,CAGrC,EACD,EACH,GACF,CAEJ","names":["React","MapFirstCore","jsx","jsxs","useMapFirst","options","instanceRef","instance","MarkerDebugList","markers","marker","_a","_b","_c","_d","_e","_f"]}